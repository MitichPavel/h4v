{"version":3,"sources":["webpack:///./src/components/BigImage.vue","webpack:///./src/components/BigImage.vue?7cd4","webpack:///./src/assets/images/svg/zoom_in.svg","webpack:///./src/assets/images/svg/x.svg","webpack:///./src/assets/images/svg/loader_white.svg","webpack:///./src/components/BigImage.vue?3cd0","webpack:///./src/assets/images/svg/zoom_out.svg"],"names":["class","src","ref","alt","draggable","loading","closeBigImage","isDown","isMove","moveOff","currentScale","getOffset","moveOn","widget","maxScale","data","offset","stepScale","computed","renderedImg","document","querySelector","mounted","this","$nextTick","pageScroll","initScale","setInterval","height","clearInterval","scale","beforeCreate","id","$store","getters","getBigImgId","axios","get","then","response","$refs","img","setAttribute","config","url","methods","e","offsetLeft","clientX","offsetTop","clientY","style","top","left","resetPosition","parseInt","getComputedStyle","wrap","zoom","step","transform","commit","scroll","body","overflow","render","__scopeId","module","exports"],"mappings":"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","file":"js/chunk-12875e78.c7452e88.js","sourcesContent":["<template>\n  <div class=\"overlay\">\n    <div\n      :class=\"{ loading : loading }\"\n      class=\"window\"\n    >\n      <div class=\"bar\">\n        <div\n          class=\"wrap-close\"\n          @click=\"closeBigImage\"  \n        >\n          <img src=\"@/assets/images/svg/x.svg\" class=\"close\">\n        </div>\n      </div>\n      <div\n        ref=\"wrap\"\n        class=\"wrap\"\n      >\n        <div\n          class=\"wrap-img\"\n          @mouseleave=\"() => { if (isDown && isMove) moveOff(); }\"\n        >\n          <img\n            ref=\"img\"\n            class=\"img\"\n            draggable=\"false\"\n            :class=\"{ move : isMove && isDown, zoomed : currentScale > 1 }\"\n            @mousedown=\"getOffset\"\n            @mousemove=\"moveOn\"\n            @mouseup=\"moveOff\"\n          >\n        </div>\n      </div>\n      <div\n        class=\"zoom-widget\"\n        :class=\"{ disabled : !widget }\"  \n      >\n        <div\n          class=\"zoom-out\"\n          :class=\"{ disabled : currentScale === 1 }\"\n          @click=\"() => {\n            if (currentScale > 1) zoom(-stepScale);\n          }\"  \n        >\n          <img \n            class=\"icon\" \n            src=\"@/assets/images/svg/zoom_out.svg\" \n            alt=\"zoom out\"\n            draggable=\"false\"\n          >\n        </div>\n        <div \n          class=\"zoom-in\"\n          :class=\"{ disabled : currentScale === maxScale }\"\n          @click=\"() => {\n            if (currentScale < maxScale) zoom(stepScale);\n          }\"\n        >\n          <img\n            class=\"icon\"\n            src=\"@/assets/images/svg/zoom_in.svg\"\n            alt=\"zoom in\"\n            draggable=\"false\"\n          >\n        </div>\n      </div>\n      <img src=\"@/assets/images/svg/loader_white.svg\" class=\"loader\">\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      loading: true,\n      widget: false,\n\n      isDown: false,\n      isMove: false,\n      offset: [0, 0],\n\n      maxScale: null,\n      stepScale: null,\n      currentScale: 1,\n    };\n  },\n  computed: {\n    renderedImg() {\n      return document.querySelector('.img');\n    },\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.pageScroll(false);\n\n      const initScale = setInterval(() => {\n        if (this.renderedImg.height) {\n          clearInterval(initScale);\n          this.loading = false;\n          this.widget = true;\n\n          this.maxScale = this.scale() * 5;\n          this.stepScale = this.maxScale / 10;\n        }\n      }, 200);\n    });\n  },\n  beforeCreate() {\n    // Get big image\n    const id = this.$store.getters.getBigImgId;\n    this.axios.get(`https://ddicomdemo20210806204758.azurewebsites.net/Entries/photo/${id}`)\n      .then((response) => {\n        this.$refs.img.setAttribute('src', response.config.url);\n      });\n  },\n  methods: {\n    getOffset(e) {\n      if (this.currentScale > 1) {\n        this.isDown = true;\n\n        this.offset[0] = this.$refs.img.offsetLeft - e.clientX;\n        this.offset[1] = this.$refs.img.offsetTop - e.clientY;\n      }\n    },\n    moveOn(e) {\n      if (this.currentScale > 1) {\n        this.isMove = true;\n\n        if (this.isDown) {\n\n          this.$refs.img.style.top = (e.clientY + this.offset[1]) + 'px';\n          this.$refs.img.style.left = (e.clientX + this.offset[0]) + 'px';\n        }\n      }\n    },\n    moveOff() {\n      this.isMove = false;\n      this.isDown = false;\n    },\n    resetPosition() {\n      this.$refs.img.style.top = 'auto';\n      this.$refs.img.style.left = 'auto';\n    },\n\n    scale() {\n      return this.renderedImg.height / parseInt(getComputedStyle(this.$refs.wrap).height, 10) - 1;\n    },\n    zoom(step) {\n      this.currentScale += step;\n\n      if (step < 0) {\n        this.resetPosition();\n      }\n\n      if (this.currentScale + step < 1) {\n        this.resetPosition();\n\n        this.currentScale = 1;\n        this.$refs.img.style.transform = 'scale(1)';\n        return;\n      }\n\n      if (this.currentScale + step > this.maxScale) {\n        this.currentScale = this.maxScale;\n        this.$refs.img.style.transform = `scale(${this.maxScale})`;\n        return;\n      }\n\n      this.$refs.img.style.transform = `scale(${this.currentScale + step})`;\n    },\n\n    closeBigImage() {\n      this.pageScroll(true);\n      this.$store.commit('hideBigImage');\n    },\n\n    pageScroll(scroll = false) {\n      if (!scroll) {\n        document.body.style.overflow = 'hidden';\n        return;\n      }\n      document.body.style.overflow = '';\n    },\n  },\n}\n</script>\n\n<style scoped>\n.overlay {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  max-width: 2000px;\n  width: 100vw;\n  height: 100vh;\n  z-index: 100;\n}\n\n.overlay .window {\n  position: relative;\n  width: 100%;\n  height: 100%;\n  background-color: #1E2832;\n  border-radius: 5px;\n  display: flex;\n  flex-direction: column;\n  user-select: none;\n}\n\n.overlay .window .bar {\n  width: 100%;\n  height: 42px;\n  padding: 10px;\n  background-color: #DFE2E6;\n  border-top-right-radius: 5px;\n  border-top-left-radius: 5px;\n}\n\n.overlay .window .wrap {\n  height: calc(100% - 42px);\n  border-width: 30px;\n  border-bottom-width: 60px;\n  border-color: #1E2832;\n  border-style: solid;\n}\n\n.overlay .window .wrap-img {\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  z-index: 101;\n  overflow: hidden;\n}\n\n.overlay .window.loading .wrap-img {\n  display: none;\n}\n\n.overlay .window .wrap-img .img {\n  position: absolute;\n  max-width: 100%;\n  max-height: 100%;\n  transition: transform 0.2s ease-out;\n}\n\n.overlay .window .wrap-img .img.move.zoomed {\n  transition: transform 0s;\n}\n\n.overlay .window .wrap-img .img.move.zoomed:hover {\n  cursor: grabbing;\n}\n\n.overlay .window .wrap-img .img.zoomed:hover {\n  cursor: grab;\n}\n\n.overlay .window .loader {\n  display: none;\n  width: 50px;\n  height: 50px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1000;\n}\n\n.overlay .window.loading .loader {\n  display: block;\n}\n\n.overlay .window .bar .wrap-close {\n  display: block;\n  width: 24px;\n  height: 24px;\n  margin: 0 0 0 auto;\n  border: 1px solid #bdbdd4;\n  border-radius: 2px;\n  cursor: pointer;\n}\n\n.overlay .window .bar .wrap-close .close {\n  display: block;\n  width: 100%;\n  height: 100%;\n}\n\n.overlay .window .zoom-widget {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  grid-gap: 16px;\n  position: absolute;\n  left: 50%;\n  bottom: 0;\n  transform: translate(-50%, -50%);\n}\n\n.overlay .window .zoom-widget.disabled {\n  opacity: 0;\n  transform: opacity .3s ease-out;\n}\n\n.overlay .window .zoom-widget.disabled .zoom-in,\n.overlay .window .zoom-widget.disabled .zoom-out {\n  pointer-events: none;\n}\n\n.overlay .window .zoom-in,\n.overlay .window .zoom-out {\n  background-color: rgb(201, 199, 199);\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 32px;\n  width: 32px;\n  cursor: pointer;\n  transition: background-color 0.16s ease-out;\n  border: 1px solid #ccc;\n  user-select: none; \n}\n\n.overlay .window .zoom-in:hover,\n.overlay .window .zoom-out:hover {\n  background-color: #d6d4d4;\n}\n\n.overlay .window .zoom-in.disabled,\n.overlay .window .zoom-out.disabled {\n  opacity: .5;\n  pointer-events: none;\n  transition: all 0.3s ease-out;\n}\n\n.overlay .window .zoom-in .icon,\n.overlay .window .zoom-out .icon {\n  width: 65%;\n  height: 65%;\n}\n</style>\n","import { render } from \"./BigImage.vue?vue&type=template&id=a47161b0&scoped=true\"\nimport script from \"./BigImage.vue?vue&type=script&lang=js\"\nexport * from \"./BigImage.vue?vue&type=script&lang=js\"\n\nimport \"./BigImage.vue?vue&type=style&index=0&id=a47161b0&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-a47161b0\"\n\nexport default script","module.exports = __webpack_public_path__ + \"img/zoom_in.2ecb60ca.svg\";","module.exports = __webpack_public_path__ + \"img/x.77116870.svg\";","module.exports = __webpack_public_path__ + \"img/loader_white.db66649c.svg\";","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./BigImage.vue?vue&type=style&index=0&id=a47161b0&scoped=true&lang=css\"","module.exports = __webpack_public_path__ + \"img/zoom_out.da2543af.svg\";"],"sourceRoot":""}